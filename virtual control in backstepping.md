---
date: 1718161600.146715
tags:
- autogenerated
- source__oai
- conversation_id__18aef735-d044-4209-927f-ec249ab3595f
- msg_aaa2901e-f597-481e-9e41-436a7d1a8d37
- msg_40a2ff28-0e13-4544-9c81-51cada04b7e8
- colorclass/system-dynamics
title: virtual control in backstepping
---

**USER**

Virtual Control


**ASSISTANT**

### Virtual Control in Backstepping

In backstepping design, a virtual control is an intermediate control input introduced to stabilize each subsystem of a larger, more complex system. Virtual controls are used to simplify the control design by handling one state variable at a time, leading to the recursive construction of the overall control law.

### Key Concepts

1. **Virtual Control Input**: An intermediate control that stabilizes a subsystem. It acts as a target for the next state in the hierarchy.
2. **Tracking Error**: The difference between the actual state and the desired virtual control.
3. **Recursive Design**: The process of incrementally designing the control law by treating higher-order states as control inputs for lower-order subsystems.

### Example: Backstepping for a Two-State System

Consider a system with states \( x_1 \) and \( x_2 \):

$$
\begin{aligned}
\dot{x}_1 &= f_1(x_1) + g_1(x_1) x_2, \\
\dot{x}_2 &= f_2(x_1, x_2) + g_2(x_1, x_2) u,
\end{aligned}
$$

#### Step 1: Define the First Lyapunov Function

Start with the first state \( x_1 \) and define a Lyapunov function:

$$
V_1(x_1) = \frac{1}{2} x_1^2.
$$

The time derivative of \( V_1 \) is:

$$
\dot{V}_1 = x_1 \dot{x}_1 = x_1 (f_1(x_1) + g_1(x_1) x_2).
$$

#### Step 2: Introduce a Virtual Control

To stabilize the first subsystem, introduce a virtual control \( \alpha_1(x_1) \):

$$
\alpha_1(x_1) = -k_1 x_1,
$$

where \( k_1 \) is a positive constant. The goal is to make \( x_2 \) track this virtual control.

Define the tracking error for the virtual control:

$$
z_1 = x_2 - \alpha_1(x_1) = x_2 + k_1 x_1.
$$

#### Step 3: Extend the Lyapunov Function

Extend the Lyapunov function to include the tracking error \( z_1 \):

$$
V_2(x_1, z_1) = V_1(x_1) + \frac{1}{2} z_1^2 = \frac{1}{2} x_1^2 + \frac{1}{2} (x_2 + k_1 x_1)^2.
$$

The time derivative of \( V_2 \) is:

$$
\dot{V}_2 = x_1 \dot{x}_1 + z_1 \dot{z}_1.
$$

Using the system dynamics:

$$
\dot{z}_1 = \dot{x}_2 + k_1 \dot{x}_1 = f_2(x_1, x_2) + g_2(x_1, x_2) u + k_1 (f_1(x_1) + g_1(x_1) x_2).
$$

Substitute and simplify:

$$
\dot{V}_2 = x_1 (f_1(x_1) + g_1(x_1) x_2) + z_1 [f_2(x_1, x_2) + g_2(x_1, x_2) u + k_1 (f_1(x_1) + g_1(x_1) x_2)].
$$

#### Step 4: Design the Actual Control Input

To make \( \dot{V}_2 \) negative definite, choose the control law \( u \):

$$
u = -\frac{1}{g_2(x_1, x_2)} [f_2(x_1, x_2) + k_2 z_1 + k_1 (f_1(x_1) + g_1(x_1) x_2)],
$$

where \( k_2 \) is a positive constant. This ensures:

$$
\dot{V}_2 = -k_2 z_1^2,
$$

which is negative definite, indicating stability.

### Example: Backstepping for a Three-State System

Consider a system with states \( x_1 \), \( x_2 \), and \( x_3 \):

$$
\begin{aligned}
\dot{x}_1 &= x_2, \\
\dot{x}_2 &= x_3, \\
\dot{x}_3 &= u.
\end{aligned}
$$

#### Step 1: Define the First Lyapunov Function

Define the first Lyapunov function for \( x_1 \):

$$
V_1(x_1) = \frac{1}{2} x_1^2.
$$

The time derivative of \( V_1 \) is:

$$
\dot{V}_1 = x_1 \dot{x}_1 = x_1 x_2.
$$

Introduce the first virtual control \( \alpha_1 \):

$$
\alpha_1(x_1) = -k_1 x_1.
$$

Define the error for the virtual control:

$$
z_1 = x_2 - \alpha_1(x_1) = x_2 + k_1 x_1.
$$

#### Step 2: Extend the Lyapunov Function

Extend the Lyapunov function to include the error \( z_1 \):

$$
V_2(x_1, z_1) = V_1(x_1) + \frac{1}{2} z_1^2 = \frac{1}{2} x_1^2 + \frac{1}{2} (x_2 + k_1 x_1)^2.
$$

The time derivative of \( V_2 \) is:

$$
\dot{V}_2 = x_1 \dot{x}_1 + z_1 \dot{z}_1.
$$

Using the system dynamics:

$$
\dot{z}_1 = \dot{x}_2 + k_1 \dot{x}_1 = x_3 + k_1 x_2.
$$

To stabilize \( z_1 \), introduce the second virtual control \( \alpha_2 \):

$$
\alpha_2(x_1, x_2) = -k_1 x_2 - k_2 (x_2 + k_1 x_1).
$$

Define the error for the second virtual control:

$$
z_2 = x_3 - \alpha_2(x_1, x_2) = x_3 + k_2 x_2 + k_2 k_1 x_1.
$$

#### Step 3: Extend the Lyapunov Function

Extend the Lyapunov function to include the error \( z_2 \):

$$
V_3(x_1, z_1, z_2) = V_2(x_1, z_1) + \frac{1}{2} z_2^2 = \frac{1}{2} x_1^2 + \frac{1}{2} (x_2 + k_1 x_1)^2 + \frac{1}{2} (x_3 + k_2 x_2 + k_2 k_1 x_1)^2.
$$

The time derivative of \( V_3 \) is:

$$
\dot{V}_3 = x_1 \dot{x}_1 + z_1 \dot{z}_1 + z_2 \dot{z}_2.
$$

Using the system dynamics:

$$
\dot{z}_2 = \dot{x}_3 + k_2 \dot{x}_2 + k_2 k_1 \dot{x}_1 = u + k_2 x_3 + k_2 k_1 x_2.
$$

To stabilize the system, choose the control law \( u \):

$$
u = -k_3 z_2,
$$

where \( k_3 \) is a positive constant. This ensures:

$$
\dot{V}_3 = -k_3 z_2^2,
$$

which is negative definite, indicating stability.

### Advantages of Using Virtual Controls in Backstepping

1. **Systematic Approach**: Virtual controls provide a systematic way to handle each state variable sequentially, making the design process more manageable.
2. **Stability Assurance**: By ensuring stability at each step with intermediate virtual controls, the overall system stability is guaranteed.
3. **Flexibility**: Virtual controls can be adapted to a wide range of nonlinear systems, making backstepping a versatile design methodology.

### Applications

1. **Robotics**: Control of robotic arms and mobile robots with nonlinear dynamics.
2. **Aerospace**: Flight control systems for aircraft and spacecraft.
3. **Automotive**: Control systems for vehicle dynamics, including traction control and stability control.
4. **Process Control**: Nonlinear control in chemical and process industries for optimal operation.

### Conclusion

Virtual control is a crucial concept in the backstepping design methodology, enabling the recursive stabilization of complex nonlinear systems. By introducing intermediate control inputs and designing Lyapunov functions at each step, backstepping provides a robust and systematic approach to control design. For further exploration, see topics such as [[Nonlinear Control]], [[Adaptive


---

preceding: [[strict-feedback form]]  


following: [[dynamic surface control]]

See also: [[system dynamics]]