---
date: 1726439975.951175
tags:
- autogenerated
- source__oai
- conversation_id__66e757d1-0534-8008-bb6a-afa8342b5ee2
- msg_aaa27d90-7daf-436f-a8ae-76119e1b2570
- msg_61900e8f-b4fc-4d4b-8fc0-8b8ba11faf86
- colorclass/edge-case
title: encourage the student to wrap conditions in parens to mitigate confusion about
  order of operations. we're not going to discuss order of operations so may as well
  introduce a mechanism to make it less
---

**USER**

encourage the student to wrap conditions in parens to mitigate confusion about order of operations. we're not going to discuss order of operations so may as well introduce a mechanism to make it less likely to be a source of issues for the learner.


**ASSISTANT**

That makes sense! When introducing conditionals, it’s a good idea to encourage the use of **parentheses** to ensure clarity and avoid potential confusion around the order of operations. This not only mitigates common pitfalls but also builds good habits early on without having to dive into discussions about operator precedence.

We’ll modify the previous lesson to **explicitly encourage** wrapping conditions in parentheses. Let’s integrate that advice into the lesson as a practical tip, helping students avoid mistakes when combining conditions like `and`, `or`, and string checks.

---

### **Sixth Assignment: Conditional Control Flow with Parentheses for Clarity**

### **Objective**:
- Introduce **conditional control flow** with `if`, `else`, and `elif`.
- Show students how to use the **`in` operator** for checking substrings in strings.
- Encourage wrapping **conditions in parentheses** to ensure clear, predictable behavior and avoid confusion with operator precedence.

### **Concept**:
We’ll reuse the previous script but **emphasize** the importance of wrapping conditions in parentheses to clarify logic. This practice prevents issues arising from misinterpreting how compound conditions are evaluated, especially when using `and`, `or`, or multiple checks within the same condition.

---

### **Updated Script: Conditional Control Flow and String Checks with Parentheses**

```python
import os
import openai
import fire

# Step 1: Fetch API key from environment variables
api_key = os.environ.get("OPENAI_API_KEY")
if not api_key:
    raise ValueError("API key not found. Set the OPENAI_API_KEY environment variable.")

# Step 2: Define a function that queries GPT with a list of modified prompts
def query_gpt(prompts, max_tokens=50, temperature=0.7, top_p=1.0):
    openai.api_key = api_key
    response = openai.Completion.create(
        model="text-davinci-003",
        prompt=prompts,  # Send the list of modified prompts
        max_tokens=max_tokens,
        temperature=temperature,
        top_p=top_p,
    )
    return response

# Step 3: Add CLI using Fire
def main(city="Paris"):
    """
    Modify prompts based on the city, and use conditionals to customize behavior.

    Arguments:
    - city: The city name to replace the <city> placeholder.
    """
    # Step 4: Define a list of prompts with a placeholder <city>
    prompts = [
        "What is the population of <city>?",
        "What are some famous landmarks in <city>?",
        "Can you tell me an interesting fact about <city>?",
        "What are the most famous foods in <city>?"
    ]

    # Step 5: Replace the <city> placeholder and introduce conditionals
    modified_prompts = []
    for prompt in prompts:
        modified_prompt = prompt.replace("<city>", city)

        # Encourage wrapping conditions in parentheses to avoid confusion
        # Check if the prompt contains "population" or "landmarks"
        if ("population" in modified_prompt):
            print("Found a population-related prompt.")
        elif ("landmarks" in modified_prompt):
            print("Found a landmarks-related prompt.")
        
        # Combine conditions using `and`/`or`, wrapping in parentheses for clarity
        if ("famous" in modified_prompt) and ("foods" in modified_prompt):
            print("Found a prompt about famous foods!")
        
        # Add the modified prompt to the list
        modified_prompts.append(modified_prompt)

    # Step 6: Call the query_gpt function with the modified prompts
    response = query_gpt(modified_prompts)

    # Step 7: Print the raw response object (students will learn how to parse it later)
    print(response)

if __name__ == "__main__":
    fire.Fire(main)
```

---

### **Key Changes**:

1. **Step 5**: In the `if` statements, we’ve explicitly wrapped conditions in **parentheses**, regardless of complexity. This helps students avoid potential confusion with operator precedence when they combine conditions like `and` and `or`.

    For example:
    ```python
    if ("population" in modified_prompt):
        print("Found a population-related prompt.")
    elif ("landmarks" in modified_prompt):
        print("Found a landmarks-related prompt.")
    
    # Combining conditions with parentheses
    if ("famous" in modified_prompt) and ("foods" in modified_prompt):
        print("Found a prompt about famous foods!")
    ```

    This practice encourages clarity and ensures that each condition is evaluated correctly, especially as conditions become more complex.

---

### **Running the Script**:

Students can run the script as before:

```bash
python hello_gpt_conditionals_with_parens.py --city "Rome"
```

**Example Output**:
```bash
Found a population-related prompt.
Found a landmarks-related prompt.
Found a prompt about famous foods!
<OpenAIObject completion id=cmpl-xxxxxxxxxxxxxxxxx>
```

The script will identify specific prompts related to population, landmarks, or famous foods, based on the checks implemented using the `in` operator.

---

### **Learning Outcomes**:

1. **Conditional Control Flow**:
   - Students will learn how to use `if`, `elif`, and `else` to create simple conditional logic in their code.
   - They'll see how conditional checks allow them to handle different cases based on the content of a string.

2. **The `in` Operator**:
   - Students are introduced to the `in` operator, which is a powerful tool for checking whether a substring exists within a string.
   - They'll see how to use `in` to make decisions based on the presence of certain keywords in prompts.

3. **Parenthetical Syntax for Clarity**:
   - By wrapping conditions in parentheses, students will ensure their logic is clear and won’t run into issues with operator precedence.
   - This reinforces good coding practices, ensuring that complex conditions (e.g., combining `and` and `or`) are evaluated as intended.
   
4. **String Manipulation**:
   - The assignment continues building on string manipulation skills, focusing on dynamic prompt creation and checking for certain keywords in strings.

---

### **Best Practice: Wrapping Conditions in Parentheses**:

To reinforce this best practice, explain to students why parentheses help:
- **Clarity**: By wrapping conditions in parentheses, the intention of the code is immediately clear. For example:
    ```python
    if ("famous" in modified_prompt) and ("foods" in modified_prompt):
    ```
    There’s no ambiguity about which conditions are being combined.

- **Operator Precedence**: Without needing to dive deep into how Python evaluates `and`, `or`, or `not`, using parentheses ensures that the code works as expected, even when conditions become more complex.

---

### **Assignment Extension (Optional)**:

For a challenge, students could combine `and` and `or` conditions in more complex checks. For example:
```python
if (("famous" in modified_prompt) and ("foods" in modified_prompt)) or ("landmarks" in modified_prompt):
    print("Found a prompt about landmarks or famous foods!")
```

This introduces how parentheses help ensure the intended combination of conditions.

---

### **Summary**:

In this assignment, students are introduced to **conditional control flow** and **string checks** while being encouraged to wrap their conditions in parentheses to avoid confusion. They learn to make decisions in their code based on whether specific substrings exist in the prompt, reinforcing practical Python skills and good coding habits. The use of parentheses ensures that students don’t run into issues with operator precedence, allowing them to focus on the task at hand.


---

preceding: [[introduce conditional control flow. this includes parenthetical syntax, compound expressions (don't call it that, just show the student that it's a thing they can do). also introduce the `in` operator]]  


following: [[openai completions object actually has a much nicer repr than that, here's an example]]