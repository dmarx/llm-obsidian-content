---
date: 1726442542.690006
tags:
- autogenerated
- source__oai
- conversation_id__66e757d1-0534-8008-bb6a-afa8342b5ee2
- msg_aaa2e2c2-21c5-409f-b300-2735c58d1d32
- msg_b6bf6f6e-d4a9-459d-b428-610052c9ebce
- colorclass/decision-making-processes
title: assignment implementing the strategist agent pattern
---

**USER**

Strategist Agent pattern


**ASSISTANT**

### **Assignment: Implementing the Strategist Agent Pattern**

In this assignment, students will explore the **Strategist Agent** pattern, where an agent is responsible for creating a **plan** or **strategy** to accomplish complex, multi-step tasks. The **Strategist Agent** analyzes the overall problem, breaks it down into manageable steps, and coordinates other agents to execute those steps. The strategist does not solve the problem directly but helps organize and optimize the workflow.

### **Objective**:
1. Teach students how to create a **Strategist Agent** that generates plans or strategies to solve multi-step tasks.
2. Demonstrate how the **Strategist Agent** coordinates other agents to accomplish tasks.
3. Show how the **Strategist Agent** helps manage complex workflows and decision-making processes, ensuring efficiency and organization in multi-agent systems.

---

### **What Is the Strategist Agent?**

The **Strategist Agent** is a high-level agent responsible for creating a strategy or plan of action to achieve a specific goal. This agent:
- **Analyzes** complex tasks and breaks them into smaller, manageable steps.
- **Coordinates** other specialized agents, ensuring each agent performs the right task in the correct order.
- **Monitors** progress and adapts the plan based on feedback or changing circumstances.

#### **Key Responsibilities**:
- **Planning**: The Strategist Agent creates a sequence of steps to accomplish a task.
- **Task Delegation**: It assigns different steps to appropriate agents (e.g., a Writing Agent for content creation, a Fact-Checker Agent for accuracy checking).
- **Optimization**: The strategist ensures tasks are executed efficiently, adjusting the plan as needed.

---

### **Step 1: Defining the Problem for the Strategist Agent**

Let’s define a scenario where the **Strategist Agent** will be useful. The task is to write and refine a detailed research report:
1. **Research Agent**: Gathers the necessary facts and information.
2. **Writing Agent**: Produces the initial draft of the report.
3. **Editor Agent**: Reviews the draft, improving clarity and style.
4. **Fact-Checker Agent**: Ensures the accuracy of the information.

#### **Scenario**:
You want to write a research report on **quantum computing**. This requires gathering information, generating a draft, reviewing the draft for clarity, and checking the facts.

---

### **Step 2: Implementing the Strategist Agent**

The **Strategist Agent** will create a step-by-step plan to accomplish the task, assign the necessary subtasks to the appropriate agents, and monitor the progress.

#### **Strategist Agent Implementation**:

```python
class StrategistAgent:
    def __init__(self, agents):
        """
        Initialize the Strategist Agent with a set of specialized agents.
        
        Arguments:
        - agents: A dictionary mapping agent names to Agent objects.
        """
        self.agents = agents

    def create_strategy(self, user_task):
        """
        Create a strategy by breaking down the user's task into smaller steps.
        
        Arguments:
        - user_task: The high-level task provided by the user.
        
        Returns:
        - A list of steps that break down the task.
        """
        steps = [
            {"step": 1, "task": "research", "description": "Gather detailed information on the topic."},
            {"step": 2, "task": "write", "description": "Create a draft of the report based on the research."},
            {"step": 3, "task": "edit", "description": "Review the draft and improve clarity and style."},
            {"step": 4, "task": "fact-check", "description": "Verify the accuracy of the report's information."}
        ]
        return steps
    
    def execute_strategy(self, strategy_steps, user_input):
        """
        Execute the strategy by delegating each step to the appropriate agent.
        
        Arguments:
        - strategy_steps: The list of steps that define the strategy.
        - user_input: The original task or request from the user.
        
        Returns:
        - The final output after all steps have been completed.
        """
        results = {}
        
        for step in strategy_steps:
            task = step["task"]
            if task == "research":
                print("Delegating research task to Research Agent...")
                research_agent = self.agents.get("ResearchAgent")
                results["research"] = research_agent.query_openai(user_input)
            
            elif task == "write":
                print("Delegating writing task to Writing Agent...")
                writing_agent = self.agents.get("WritingAgent")
                results["write"] = writing_agent.query_openai(results["research"])
            
            elif task == "edit":
                print("Delegating editing task to Editor Agent...")
                editor_agent = self.agents.get("EditorAgent")
                results["edit"] = editor_agent.query_openai(results["write"])
            
            elif task == "fact-check":
                print("Delegating fact-checking task to Fact-Checker Agent...")
                fact_checker_agent = self.agents.get("FactCheckerAgent")
                results["fact-check"] = fact_checker_agent.query_openai(results["edit"])
        
        return results
```

---

### **Step 3: Setting Up Specialized Agents**

Next, we define the **Research Agent**, **Writing Agent**, **Editor Agent**, and **Fact-Checker Agent**. These agents will handle the individual steps of the strategy created by the **Strategist Agent**.

```python
# Define system prompts for each agent
research_prompt = "You are a research assistant. Gather detailed information on the topic."
writing_prompt = "You are a writing assistant. Create a well-structured report based on the research."
editor_prompt = "You are an editor. Review the draft and improve clarity, coherence, and style."
fact_checker_prompt = "You are a fact-checker. Verify the accuracy of the information in the report."

# Create instances of specialized agents
research_agent = Agent(name="ResearchAgent", system_prompt_template=research_prompt)
writing_agent = Agent(name="WritingAgent", system_prompt_template=writing_prompt)
editor_agent = Agent(name="EditorAgent", system_prompt_template=editor_prompt)
fact_checker_agent = Agent(name="FactCheckerAgent", system_prompt_template=fact_checker_prompt)

# Create a dictionary to hold the agents
agents = {
    "ResearchAgent": research_agent,
    "WritingAgent": writing_agent,
    "EditorAgent": editor_agent,
    "FactCheckerAgent": fact_checker_agent
}

# Create an instance of the Strategist Agent
strategist_agent = StrategistAgent(agents=agents)
```

---

### **Step 4: Creating the CLI for the Strategist Agent**

The **Strategist Agent** will now coordinate the task of generating a research report. The user will specify the topic, and the strategist will create a strategy, execute it by delegating tasks to the appropriate agents, and present the final report.

```python
def strategist_cli():
    print("Welcome to the Strategist System!\n")
    
    while True:
        user_input = input("You: ")
        
        if user_input.lower() == "exit":
            break
        
        # Step 1: Create a strategy to handle the task
        strategy = strategist_agent.create_strategy(user_input)
        print("Strategy created:")
        for step in strategy:
            print(f"Step {step['step']}: {step['description']}")
        
        # Step 2: Execute the strategy
        final_results = strategist_agent.execute_strategy(strategy, user_input)
        
        print("\nFinal Report:")
        print(f"Research: {final_results['research']}")
        print(f"Draft: {final_results['write']}")
        print(f"Edited Report: {final_results['edit']}")
        print(f"Fact-Checked Report: {final_results['fact-check']}")

# Run the CLI
if __name__ == "__main__":
    strategist_cli()
```

---

### **Step 5: Running the Strategist Agent System**

Now, the **Strategist Agent** will plan and execute the steps needed to complete a research report. The system will delegate tasks to different agents and combine their outputs into a final result.

#### **Example Interaction**:

```bash
You: Write a research report on quantum computing.
Strategy created:
Step 1: Gather detailed information on the topic.
Step 2: Create a draft of the report based on the research.
Step 3: Review the draft and improve clarity and style.
Step 4: Verify the accuracy of the report's information.

Delegating research task to Research Agent...
Delegating writing task to Writing Agent...
Delegating editing task to Editor Agent...
Delegating fact-checking task to Fact-Checker Agent...

Final Report:
Research: Quantum computing is a field of computing focused on developing computers based on quantum-mechanical principles...
Draft: Quantum computing is a revolutionary field that has the potential to change the way we approach complex problems in science and industry...
Edited Report: The edited version of the report is more clear and concise, focusing on the key aspects of quantum computing...
Fact-Checked Report: The facts in the report are accurate, and no major corrections are needed.
```

### **Explanation**:

1. **Strategist Agent**: The strategist creates a plan, breaking down the user’s request into a series of tasks. It assigns each task to the appropriate agent and manages the workflow.
   
2. **Research Agent**: Gathers detailed information about the topic.
   
3. **Writing Agent**: Creates a structured draft based on the research.
   
4. **Editor Agent**: Reviews the draft for clarity, coherence, and style.
   
5. **Fact-Checker Agent**: Ensures the accuracy of the information in the final report.

---

### **Step 6: Extending the Strategist Pattern**

Students can extend this pattern by adding more specialized agents or more complex strategies, such as


---

preceding: [[introduce an example of an inter-agent conflict in the context of the agents the student has already created from previous assignments, and use this example to motivate the introduction and implementa]]  


following: [[assignment non-trivial agent chaining]]

See also: [[decision-making processes]]