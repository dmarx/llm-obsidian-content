---
date: 1726439397.23794
tags:
- autogenerated
- source__oai
- conversation_id__66e757d1-0534-8008-bb6a-afa8342b5ee2
- msg_aaa28e3c-a275-440f-9c36-f2e4910943d7
- msg_ff85cd51-3f26-48c0-a304-d16c65e6e216
- colorclass/edge-case
title: what no, way too early for io. we're just introducing them to a list. put multiple
  prompts in a list, and use our pre-existing machinery from the previous lesson to
  emit all of the prompts at once, an
---

**USER**

what? no, way too early for i/o. we're just introducing them to a list. put multiple prompts in a list, and use our pre-existing machinery from the previous lesson to emit all of the prompts at once, and then just print the object we get back.


**ASSISTANT**

Understood! We’ll stick to the basics, focusing on introducing lists and keeping the workflow aligned with what they’ve already learned. We won't introduce file I/O yet—just show them how to use a simple list of prompts and send them all in one API request.

The goal for this assignment is:
1. **Introducing the `list` type** in Python.
2. Sending **multiple prompts** at once using the **same API machinery** from the previous assignment.
3. Printing the raw response to see how multiple responses are handled by the API.

Here’s the **simplified version** of the fourth assignment.

---

### **Fourth Assignment: Using a List to Send Multiple Prompts**

### **Objective**:
- Introduce students to Python's `list` type.
- Use a list to send multiple prompts in a single API request.
- Print the response object to see how multiple responses are structured.

### **Concept**: 
Students will define multiple prompts in a list, send them all at once using the OpenAI API, and print the response as a whole.

---

### **Updated Script: Sending Multiple Prompts Using a List**

```python
import os
import openai
import fire

# Step 1: Fetch API key from environment variables
api_key = os.environ.get("OPENAI_API_KEY")
if not api_key:
    raise ValueError("API key not found. Set the OPENAI_API_KEY environment variable.")

# Step 2: Define a function that queries GPT with a list of prompts
def query_gpt(prompts, max_tokens=50, temperature=0.7, top_p=1.0):
    openai.api_key = api_key
    response = openai.Completion.create(
        model="text-davinci-003",
        prompt=prompts,  # Send the list of prompts
        max_tokens=max_tokens,
        temperature=temperature,
        top_p=top_p,
    )
    return response  # Return the full API response object

# Step 3: Add CLI using Fire
def main():
    """
    Send multiple prompts using a list.
    """
    # Step 4: Define a list of prompts
    prompts = [
        "Tell me a joke.",
        "What's the capital of France?",
        "Give me a fun fact."
    ]
    
    # Step 5: Call the query_gpt function with the list of prompts
    response = query_gpt(prompts)

    # Step 6: Print the raw response object
    print(response)

if __name__ == "__main__":
    fire.Fire(main)
```

---

### **Explanation**:

1. **Step 1**: Fetch the API key from the environment—this is the same as before.
   
2. **Step 2**: The `query_gpt()` function now accepts a list of prompts (`prompts`) instead of a single string. We pass this list directly to the `openai.Completion.create()` function.

3. **Step 3**: The `main()` function defines a hardcoded list of prompts (`prompts`). This is the core introduction to the list type for students, where they can see how a Python list is structured:
   ```python
   prompts = [
       "Tell me a joke.",
       "What's the capital of France?",
       "Give me a fun fact."
   ]
   ```

4. **Step 5**: The list of prompts is passed to the `query_gpt()` function, which sends them to the OpenAI API all at once. The response is returned in its raw format.

5. **Step 6**: We print the **entire response object**. This step is crucial because students will see the raw output that contains the model's answers to all prompts, and this sets the foundation for parsing and working with API responses later on.

---

### **Running the Script**:

Students can run the script with the default prompts:
```bash
python hello_gpt_multiple_prompts.py
```

**Example Output**:
```bash
<OpenAIObject completion id=cmpl-xxxxxxxxxxxxxxxxx>
```

The output will show the full API response object, which includes model completions for each prompt in the list.

---

### **Learning Outcomes**:

1. **Lists**:
   - Students will be introduced to Python’s `list` type, learning how to store and manage multiple items (prompts) in a list.
   - They'll understand the syntax for creating and using lists, and see a simple but practical example in the context of API interaction.
   
2. **Multiple Prompts**:
   - By passing multiple prompts at once, students will understand how the API can handle lists, preparing them for more complex use cases later on.
   
3. **Understanding API Responses**:
   - Printing the entire API response object will help students get comfortable with the structure of the API output before they learn how to parse and manipulate it.

---

### **Summary**:

This simplified assignment introduces the `list` type in Python in a very practical and straightforward way, by using a list of multiple prompts in a single API request. The focus is on keeping it simple—just defining the list, passing it to the API, and printing the response—without overwhelming students with unnecessary complexity. This serves as a foundation for future assignments where they can gradually learn to handle and process the API responses in more detail.


---

preceding: [[this is over complicated, we don't need to introduce `for` here. the `openai` library supports sending multiple prompts in a single request. keep it simple, the strategy here is to be completely pragm]]  


following: [[ok great, much better. you've got the idea. next, introduce string substitution. this will also introduce `for` but don't make a big deal about it. just casually illustrate looping over the list so we]]