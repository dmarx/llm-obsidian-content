---
date: 1727916950.180384
tags:
- autogenerated
- source__oai
- conversation_id__66fdeb95-c32c-8008-9a23-d10da96b1985
- msg_e8a67a7c-6ac7-4fc6-9412-79ce674cf881
- msg_ce5ef9f0-88b5-4bca-8c6d-e5d50e20d750
- colorclass/edge-case
title: shim (software engineering)
---

**USER**

shim (software engineering)


**ASSISTANT**

A **shim** in software engineering refers to a piece of code that acts as an intermediary, often providing compatibility or a layer of abstraction between two components that were not originally designed to work together. The use of shims can be crucial when updating or integrating software components, especially when dealing with legacy systems or when a direct modification of the code is not feasible.

## Common Uses of Shims

1. **API Compatibility:** When a software library updates its API, older codebases using the previous API version may no longer function correctly. A shim can translate the new API calls to the old format, allowing the legacy code to continue functioning without modification.

2. **Cross-Platform Compatibility:** In cross-platform software development, different operating systems may have varied APIs for similar functionalities. Shims can provide a uniform interface, allowing the software to use the shim's interface rather than directly interacting with the platform-specific APIs.

3. **Testing and Mocking:** During software testing, shims can be used to mimic the behavior of external dependencies, such as databases or network services, facilitating unit testing without the need for the actual resource.

4. **Backward Compatibility:** When new software needs to support older versions of hardware or protocols, shims can bridge the gap by emulating or translating newer commands into those understood by the legacy systems.

5. **Library Interoperability:** A shim can also enable the use of libraries written in different programming languages. For example, a shim could wrap a C++ library for use in a Python application.

## Example: API Compatibility Shim

Suppose an application uses a function `foo(a, b)` from a library `libX`, but the library `libX` has updated its interface to `foo(a, b, c)`, where `c` is an optional parameter. To maintain compatibility with the old code, a shim could be written as:

```python
# Shim for updated libX
def foo_shim(a, b, c=None):
    if c is None:
        # Emulate old behavior
        return libX.foo(a, b)
    else:
        # New behavior
        return libX.foo(a, b, c)
```

Here, `foo_shim` provides a way for the legacy code that calls `foo(a, b)` to continue working with the updated library interface.

## Why Use Shims?

- **Decoupling:** Shims decouple software components, allowing developers to modify or replace components without affecting the rest of the system.
- **Maintainability:** By isolating changes within shims, software can adapt to changes in external libraries or operating systems with minimal disruption to the main codebase.
- **Legacy Support:** Shims can extend the life of legacy systems by enabling newer software to interact with outdated protocols or hardware.

## Related Concepts

- **[[Adapter Pattern]]:** A design pattern similar to a shim that provides a way to make incompatible interfaces compatible.
- **[[Polyfill]]:** In web development, a polyfill is a type of shim that enables functionality not natively supported by certain browsers.

In summary, a shim is a versatile tool in software engineering used to bridge gaps between different software components, ensuring compatibility, flexibility, and maintainability.


---


following: [[adapter pattern]]

See also: [[unit testing]]