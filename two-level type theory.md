---
date: '2025-05-27T05:14:30.404649Z'
tags:
- autogenerated
- source__claude
- conversation_id__2ca046e4-6d55-4c0f-8974-cd241ab7121b
- msg_3d57615f-cce5-4a1c-8d5e-5120ebb29b06
- msg_46e977a5-c6d4-43eb-8688-6c620ae03432
- colorclass/philosophy-of-language
title: two-level type theory
---

**USER**

Two-Level Type Theory


**ASSISTANT**

# [[Two-Level Type Theory]]

**Two-Level Type Theory** (TLTT) constitutes a foundational framework that stratifies types into [[fibrant types]] (supporting [[homotopical]] structure) and [[non-fibrant types]] (supporting [[strict equality]]), thereby resolving the tension between [[computational decidability]] and [[univalent foundations]]. TLTT enables the coexistence of [[strict]] and [[weak]] equality within a single coherent system.

## Foundational Motivation

### [[Homotopy Type Theory]] Limitations
[[Homotopy Type Theory]] (HoTT) interprets all types as [[∞-groupoids]], leading to several computational challenges:
- **[[Function extensionality]]** is not definitionally equal but requires [[path induction]]
- **[[Univalence]]** makes type checking [[undecidable]]
- **[[Higher coherences]]** complicate computational content
- **[[Strict equality]]** becomes unavailable even when needed

### [[Computational Interpretation]] Problems
In [[cubical type theory]], computational [[transport]] operations become complex:
$$\text{transport} : \Pi A,B:\mathcal{U}. \text{Path}_{\mathcal{U}}(A,B) \to A \to B$$

TLTT addresses these issues by providing both [[strict]] and [[homotopical]] levels simultaneously.

## Stratification Principles

### [[Fibrant Types]] (Level 1)
**Fibrant types** $A : \text{Type}_1$ support full homotopical structure:
- **[[Identity types]]**: $\text{Id}_A(a,b)$ with [[path induction]]
- **[[Univalence]]**: $(A \simeq B) \simeq (A =_{\text{Type}_1} B)$
- **[[Function extensionality]]**: $(\Pi x:A. f(x) =_{B(x)} g(x)) \to (f =_{\Pi x:A.B(x)} g)$
- **[[Higher groupoid structure]]**: Infinite tower of coherences

### [[Non-Fibrant Types]] (Level 0)  
**Non-fibrant types** $A : \text{Type}_0$ support only strict structure:
- **[[Strict equality]]**: Definitional equality $\equiv$ without path structure
- **[[Decidable type checking]]**: Computational [[normalization]]
- **[[No univalence]]**: Type equivalence ≠ type equality
- **[[Discrete structure]]**: No higher homotopical content

### [[Coercion Structure]]
A [[coercion]] function embeds non-fibrant into fibrant types:
$$\iota : \text{Type}_0 \to \text{Type}_1$$

With properties:
- **[[Reflection]]**: $\iota(A) \simeq A$ (when $A$ is viewed fibrantly)
- **[[Conservativity]]**: Strict equality in $A$ implies path equality in $\iota(A)$
- **[[Discreteness]]**: $\iota(A)$ has [[discrete topology]] (only trivial paths)

## Formal Framework

### [[Universe Structure]]
TLTT employs a [[bifurcated universe hierarchy]]:
$$\begin{align}
\text{Type}_0^0 &: \text{Type}_0^1 : \text{Type}_0^2 : \cdots \\
\text{Type}_1^0 &: \text{Type}_1^1 : \text{Type}_1^2 : \cdots
\end{align}$$

Where:
- $\text{Type}_0^i$ contains non-fibrant types at universe level $i$
- $\text{Type}_1^i$ contains fibrant types at universe level $i$

### [[Typing Rules]]

**Formation rules**:
$$\frac{\Gamma \vdash A : \text{Type}_0^i}{\Gamma \vdash A : \text{Type}_1^i} \text{Coercion}$$

$$\frac{\Gamma \vdash A : \text{Type}_1^i \quad \text{discrete}(A)}{\Gamma \vdash A : \text{Type}_0^i} \text{Discretization}$$

**Function type formation**:
$$\frac{\Gamma \vdash A : \text{Type}_j^i \quad \Gamma, x:A \vdash B(x) : \text{Type}_k^i}{\Gamma \vdash \Pi x:A.B(x) : \text{Type}_{\max(j,k)}^i}$$

## [[Strict vs Homotopical]] Equality

### [[Definitional Equality]] (Level 0)
In non-fibrant types, equality is [[definitional]]:
$$\frac{\Gamma \vdash a : A \quad \Gamma \vdash b : A \quad a \equiv b}{\Gamma \vdash \text{refl} : a =_A^0 b}$$

Where $=_A^0$ denotes [[strict equality]] with [[uniqueness of identity proofs]]:
$$\Pi p, q : (a =_A^0 b). p \equiv q$$

### [[Path Equality]] (Level 1)
In fibrant types, equality supports [[path structure]]:
$$\frac{\Gamma \vdash a : A \quad \Gamma \vdash b : A}{\Gamma \vdash a =_A^1 b : \text{Type}_1^0}$$

With [[path induction]]:
$$\frac{\begin{array}{c}
\Gamma, x:A, y:A, p:x =_A^1 y \vdash C(x,y,p) : \text{Type}_1^i \\
\Gamma, z:A \vdash d(z) : C(z,z,\text{refl}_z)
\end{array}}{\Gamma \vdash J(d) : \Pi x,y:A. \Pi p:x =_A^1 y. C(x,y,p)}$$

## [[Bridge Types]] and [[Heterogeneous Equality]]

TLTT introduces [[bridge types]] to connect the two levels:

### [[Bridge Formation]]
For $A : \text{Type}_0^i$ and $B : \text{Type}_1^i$:
$$\text{Bridge}(A,B) : \text{Type}_1^i$$

A bridge $p : \text{Bridge}(A,B)$ witnesses that $A$ and $B$ have the same computational content but different homotopical structure.

### [[Heterogeneous Paths]]
[[PathOver]] types enable paths between elements of related types:
$$\text{PathOver} : \Pi A,B:\text{Type}_1^i. \text{Bridge}(A,B) \to A \to B \to \text{Type}_1^0$$

## [[Computational Rules]]

### [[Strict Computation]]
Non-fibrant types support direct computational equality:
$$(\lambda x.b)(a) \equiv b[a/x] \quad \text{(definitional)}$$
$$\text{fst}((a,b)) \equiv a \quad \text{(definitional)}$$

### [[Transport Computation]]
Fibrant types require explicit transport for substitution:
$$\text{transport} : \Pi P : I \to \text{Type}_1^i. P(0) \to P(1)$$

Where $I$ is the [[interval type]] with endpoints $0, 1 : I$.

## [[Elimination Principles]]

### [[Strict Elimination]]
Non-fibrant inductive types eliminate with [[definitional equations]]:
$$\begin{align}
\text{rec}_{\mathbb{N}}^0 &: \Pi C : \text{Type}_0^i. C \to (C \to C) \to \mathbb{N}_0 \to C \\
\text{rec}_{\mathbb{N}}^0(C,c_0,c_s,0) &\equiv c_0 \\
\text{rec}_{\mathbb{N}}^0(C,c_0,c_s,\text{succ}(n)) &\equiv c_s(\text{rec}_{\mathbb{N}}^0(C,c_0,c_s,n))
\end{align}$$

### [[Homotopical Elimination]]
Fibrant inductive types eliminate with [[propositional equations]]:
$$\begin{align}
\text{rec}_{\mathbb{N}}^1 &: \Pi C : \text{Type}_1^i. C \to (C \to C) \to \mathbb{N}_1 \to C \\
\text{rec}_{\mathbb{N}}^1(C,c_0,c_s,0) &=_C^1 c_0 \\
\text{rec}_{\mathbb{N}}^1(C,c_0,c_s,\text{succ}(n)) &=_C^1 c_s(\text{rec}_{\mathbb{N}}^1(C,c_0,c_s,n))
\end{array}$$

## [[Univalence]] Restriction

### [[Fibrant Univalence]]
Univalence holds for fibrant types:
$$\text{ua}_1 : \Pi A,B : \text{Type}_1^i. (A \simeq B) \to (A =_{\text{Type}_1^i}^1 B)$$

### [[Non-Fibrant Discreteness]]
Non-fibrant types are [[discrete]]:
$$\Pi A,B : \text{Type}_0^i. (A =_{\text{Type}_0^i}^0 B) \to (A \equiv B)$$

This ensures [[decidability]] of type checking at level 0.

## [[Quotient Types]] and [[Higher Inductive Types]]

### [[Strict Quotients]]
Non-fibrant quotients use [[definitional equality]]:
$$\frac{A : \text{Type}_0^i \quad R : A \to A \to \text{Type}_0^0}{A/R : \text{Type}_0^i}$$

With [[definitional quotient map]]:
$$[a] \equiv [b] \iff R(a,b) \text{ holds definitionally}$$

### [[Homotopical Quotients]]
Fibrant quotients use [[path equality]]:
$$\frac{A : \text{Type}_1^i \quad R : A \to A \to \text{Type}_1^0}{A/R : \text{Type}_1^i}$$

With [[path quotient map]]:
$$\text{quot} : \Pi a,b:A. R(a,b) \to ([a] =_{A/R}^1 [b])$$

## [[Canonicity]] and [[Normalization]]

### [[Strict Canonicity]]
Non-fibrant types satisfy [[strong canonicity]]:
$$\vdash t : \mathbb{N}_0 \Rightarrow t \equiv \text{succ}^n(0) \text{ for some } n$$

### [[Weak Canonicity]]
Fibrant types satisfy only [[weak canonicity]]:
$$\vdash t : \mathbb{N}_1 \Rightarrow t =_{\mathbb{N}_1}^1 \text{succ}^n(0) \text{ for some } n$$

This distinction enables both [[computational content]] and [[homotopical flexibility]].

## [[Model Theory]]

### [[Two-Level Models]]
TLTT models consist of:
- **[[Strict model]]** $\mathcal{M}_0$ interpreting non-fibrant types in [[sets]]
- **[[Homotopical model]]** $\mathcal{M}_1$ interpreting fibrant types in [[∞-groupoids]]
- **[[Coercion functor]]** $F : \mathcal{M}_0 \to \mathcal{M}_1$ (discrete embedding)

### [[Fibration Structure]]
The relationship between levels forms a [[Grothendieck fibration]]:
$$\begin{array}{c}
\mathcal{M}_1 \\
\downarrow \\
\mathcal{M}_0
\end{array}$$

Where the fiber over each set in $\mathcal{M}_0$ is its discrete ∞-groupoid in $\mathcal{M}_1$.

## [[Practical Applications]]

### [[Certified Programming]]
TLTT enables [[verified programming]] with:
- **Strict algorithms** in non-fibrant types for efficiency
- **Correctness proofs** in fibrant types for expressiveness
- **Bridge lemmas** connecting implementation to specification

### [[Mathematical Foundations]]
TLTT supports both:
- **[[Constructive mathematics]]** using strict equality
- **[[Homotopical mathematics]]** using path equality
- **[[Classical reasoning]]** via discretization

## [[Decidability]] Results

### [[Type Checking]]
- **Level 0**: [[Decidable]] type checking via [[normalization]]
- **Level 1**: [[Undecidable]] type checking due to univalence
- **Mixed terms**: Decidable for [[stratified]] terms

### [[Equality Testing]]
- **Strict equality**: Decidable by [[reduction]]
- **Path equality**: Undecidable in general
- **Bridge equality**: Reduces to strict equality when applicable

## [[Extensions]] and [[Variants]]

### [[Multi-Level]] Type Theory
Generalization to $n$ levels with hierarchy:
$$\text{Type}_0 \hookrightarrow \text{Type}_1 \hookrightarrow \cdots \hookrightarrow \text{Type}_{n-1}$$

### [[Directed Two-Level]] Type Theory
Addition of [[directed types]] for [[category theory]]:
- **Level 0**: Sets
- **Level 1**: Groupoids  
- **Level 2**: Categories

### [[Linear Two-Level]] Type Theory
Integration with [[linear logic]]:
- **Level 0**: Linear types with [[resource tracking]]
- **Level 1**: Unrestricted types with [[structural rules]]

## Related Concepts

- [[Homotopy Type Theory]]
- [[Fibrant Types]]
- [[Strict Equality]]
- [[Univalence Axiom]]
- [[Cubical Type Theory]]
- [[Function Extensionality]]
- [[Path Induction]]
- [[Canonicity]]
- [[Decidable Type Checking]]
- [[Computational Content]]


---

preceding: [[predicative hierarchy]]  


following: [[grothendieck fibration]]

See also: [[type theory]]