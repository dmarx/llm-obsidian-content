---
date: 1718163277.114198
tags:
- autogenerated
- source__oai
- conversation_id__18aef735-d044-4209-927f-ec249ab3595f
- msg_aaa2ee48-e765-44a7-9669-b9e2eb504cda
- msg_a457406e-c171-4525-8c9c-588c84258ae7
- colorclass/system-dynamics
title: observer design
---

**USER**

observer design


**ASSISTANT**

### Observer Design

An observer (or state estimator) is used in control systems to estimate the state variables of a system when they cannot be measured directly. The most common type of observer is the Luenberger observer, which provides a way to estimate the state variables using the system output and the control input.

### Key Concepts

1. **State-Space Representation**: Describes the system dynamics using a set of first-order differential equations in matrix form.
2. **Observer**: An algorithm that estimates the state variables based on the system output and control input.
3. **Observer Gain**: A matrix that determines the dynamics of the estimation error.

### State-Space Representation

Consider a linear time-invariant (LTI) system in state-space form:

$$
\dot{x}(t) = A x(t) + B u(t),
$$

$$
y(t) = C x(t) + D u(t),
$$

where:
- \( x(t) \) is the state vector.
- \( u(t) \) is the control input.
- \( y(t) \) is the output.
- \( A \) is the state matrix.
- \( B \) is the input matrix.
- \( C \) is the output matrix.
- \( D \) is the feedthrough (or direct transmission) matrix.

### Luenberger Observer

The Luenberger observer estimates the state vector \( \hat{x}(t) \) using the system output \( y(t) \) and the control input \( u(t) \). The observer is designed as follows:

$$
\dot{\hat{x}}(t) = A \hat{x}(t) + B u(t) + L (y(t) - \hat{y}(t)),
$$

$$
\hat{y}(t) = C \hat{x}(t) + D u(t),
$$

where:
- \( \hat{x}(t) \) is the estimated state vector.
- \( L \) is the observer gain matrix.
- \( y(t) - \hat{y}(t) \) is the estimation error.

### Error Dynamics

Define the estimation error \( e(t) = x(t) - \hat{x}(t) \). The error dynamics are given by:

$$
\dot{e}(t) = \dot{x}(t) - \dot{\hat{x}}(t).
$$

Substitute the state-space equations and the observer equations:

$$
\dot{e}(t) = A x(t) + B u(t) - [A \hat{x}(t) + B u(t) + L (y(t) - \hat{y}(t))].
$$

Since \( y(t) = C x(t) \) and \( \hat{y}(t) = C \hat{x}(t) \), we get:

$$
\dot{e}(t) = A x(t) - A \hat{x}(t) - L (C x(t) - C \hat{x}(t)) = (A - L C) e(t).
$$

The error dynamics depend on the matrix \( A - L C \). The observer gain \( L \) is chosen to place the poles of \( A - L C \) at desired locations to ensure that the estimation error converges to zero.

### Designing the Observer Gain

1. **Determine the Desired Poles**: Choose the desired locations for the poles of the observer error dynamics. These poles should be placed in the left half of the complex plane for stability.
2. **Compute the Observer Gain Matrix \( L \)**: Use pole placement techniques to determine \( L \).

### Example: Observer Design

Consider a system with the state-space representation:

$$
\dot{x}(t) = \begin{bmatrix} 0 & 1 \\ -2 & -3 \end{bmatrix} x(t) + \begin{bmatrix} 0 \\ 1 \end{bmatrix} u(t),
$$

$$
y(t) = \begin{bmatrix} 1 & 0 \end{bmatrix} x(t).
$$

#### Step 1: Determine the Desired Poles

Assume we want the observer poles to be at \( -5 \) and \( -6 \) for a fast convergence of the estimation error.

#### Step 2: Compute the Observer Gain Matrix \( L \)

The characteristic polynomial of the desired observer error dynamics is:

$$
(s + 5)(s + 6) = s^2 + 11s + 30.
$$

The characteristic polynomial of the observer error dynamics is:

$$
\det(sI - (A - LC)) = s^2 + (a_{11} + a_{22} - l_1)s + (a_{11}a_{22} - a_{12}a_{21} - a_{22}l_1 + l_2a_{12}).
$$

For the given system:

$$
A - LC = \begin{bmatrix} 0 & 1 \\ -2 & -3 \end{bmatrix} - \begin{bmatrix} l_1 \\ l_2 \end{bmatrix} \begin{bmatrix} 1 & 0 \end{bmatrix} = \begin{bmatrix} 0 & 1 \\ -2 - l_2 & -3 - l_1 \end{bmatrix}.
$$

The characteristic equation is:

$$
s^2 + (3 + l_1)s + (2 + l_2) = s^2 + 11s + 30.
$$

Matching coefficients:

$$
3 + l_1 = 11 \implies l_1 = 8,
$$

$$
2 + l_2 = 30 \implies l_2 = 28.
$$

So, the observer gain matrix is:

$$
L = \begin{bmatrix} 8 \\ 28 \end{bmatrix}.
$$

### Implementing the Observer

The observer equations with the designed gain \( L \) are:

$$
\dot{\hat{x}}(t) = \begin{bmatrix} 0 & 1 \\ -2 & -3 \end{bmatrix} \hat{x}(t) + \begin{bmatrix} 0 \\ 1 \end{bmatrix} u(t) + \begin{bmatrix} 8 \\ 28 \end{bmatrix} \left( y(t) - \begin{bmatrix} 1 & 0 \end{bmatrix} \hat{x}(t) \right).
$$

### Full-State Feedback with Observer

Combine the [[state feedback control]] law with the observer to form the full-state feedback controller with observer:

$$
u(t) = -K \hat{x}(t) + r(t),
$$

where \( K \) is the state feedback gain matrix previously designed.

### Conclusion

Observer design, specifically using the Luenberger observer, allows for the estimation of state variables when they cannot be directly measured. By designing the observer gain matrix \( L \) to place the poles of the error dynamics in desired locations, the estimation error can be made to converge to zero. This design is critical in implementing [[state feedback control]] when not all state variables are available for measurement. For further exploration, see topics such as [[State-Space Representation]], [[Pole Placement]], and [[Controllability and Observability]].


---

preceding: [[pole placement]]  


following: [[state-space representation]]

See also: [[gain matrix]]


See also: [[system dynamics]]